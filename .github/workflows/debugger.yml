name: Action Debugger
on:
  workflow_dispatch:
    inputs:
      {}

jobs:
  debug:
    runs-on: [self-hosted, cmms]
    env:
      ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
    steps:
      - name: Debug Environment
        run: |
          echo "user: $(whoami)"
          echo "HOME: $HOME"
          echo "PWD: $(pwd)"
          echo "which claude:"
          which claude || echo "claude not found"
          echo "claude version:"
          claude --version || echo "cannot run claude"
          claude -p "hello?"